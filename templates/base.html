<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8">
  <title>{% block title %}Taekwondo{% endblock %}</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body>
<div class="app-wrapper">

  <!-- ===== HEADER ===== -->
  <div class="container">
    <div class="header">

      <!-- KHUNG TRÃI: TIÃŠU Äá»€ -->
      <div class="header-left">
        <h1>ğŸ“˜ Há»† THá»NG Ã”N Táº¬P TAEKWONDO</h1>
      </div>

      <!-- KHUNG PHáº¢I: MENU -->
      <div class="header-actions">

        <button class="hamburger-btn" id="hamburgerBtn" aria-label="Menu">
          â˜°
        </button>

        <div id="userPanel" class="user-panel">
          <div class="user-hello">
            Xin chÃ o! <b>{{ current_user.username }}</b>
          </div>

          <a href="/account">ğŸ‘¤ Quáº£n lÃ½ tÃ i khoáº£n</a>
          <a href="/settings">â±ï¸ CÃ i Ä‘áº·t Ã´n táº­p</a>

          <!-- ğŸ‘‰ Gáº CH NGANG á» ÄÃ‚Y -->
          <div class="menu-divider"></div>

          {% if current_user.role == "admin" %}
            <a href="/admin/questions">ğŸ“Š Táº¡o cÃ¢u há»i</a>
            <a href="{{ url_for('admin_access') }}">ğŸ” Cáº¥p quyá»n truy cáº­p</a>
            <a href="{{ url_for('admin_users') }}">ğŸ‘¥ Quáº£n lÃ½ user</a>
          {% endif %}

          <!-- ğŸ‘‰ Gáº CH NGANG á» ÄÃ‚Y -->
          <div class="menu-divider"></div>

          <a href="/logout">ğŸšª ÄÄƒng xuáº¥t</a>
        </div>

      </div>
    </div>
  </div>


  <!-- ===== MAIN CONTENT ===== -->
  <main class="app-content container">
    {% block content %}{% endblock %}
  </main>

  <!-- ===== FOOTER ===== -->
  {% if current_user.is_authenticated %}
  <footer class="app-footer">
    Â© {{ current_year }} â€“ Created by Nguyen Thien Phung
  </footer>
  {% endif %}

</div>

<!-- ===== HAMBURGER SCRIPT ===== -->
<script>
const btn = document.getElementById("hamburgerBtn");
const panel = document.getElementById("userPanel");

if (btn && panel) {
  btn.addEventListener("click", (e)=>{
    e.stopPropagation();
    panel.classList.toggle("show");
  });

  document.addEventListener("click", ()=>{
    panel.classList.remove("show");
  });
}
</script>

{% block scripts %}{% endblock %}

</body>
</html>
